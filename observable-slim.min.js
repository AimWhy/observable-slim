/*
 * 	Observable Slim
 * 	Version 0.0.1
 * 	https://github.com/elliotnb/observable-slim
 *
 * 	Licensed under the MIT license:
 * 	http://www.opensource.org/licenses/MIT
 */
var ObservableSlim=function(){var e=[],r=[],n=[],t=null,o=function(a,i,l,u){var f=l||null,s=u||"",p=[],v=function(e,r){return e instanceof Array?""!==s?s:r:""!==s?s+"."+r:r},c=function(e){if(!0!==f.paused)if(!0===i)setTimeout(function(){if(e===p.length){for(var r=0;r<f.observers.length;r++)f.observers[r](p);p=[]}},10);else{for(var r=0;r<f.observers.length;r++)f.observers[r](p);p=[]}},b=new Proxy(a,{get:function(e,t){if("__isProxy"===t)return!0;if("__getParent"===t)return function(r){if(void 0===r)r=1;var n,t=v(e,"__getParent").split(".");return t.splice(-(r+1),r+1),n=f.proxy,t.join(".").split(".").reduce(function(e,r){return e?e[r]:void 0},n||self)};var a=e[t];if(a instanceof Object&&null!==a&&void 0===a.__isProxy){var l=r.indexOf(a);if(l>-1)for(var u=n[l],p=u.length;p--;)if(u[p].observable===f)return u[p].proxy;return o(a,i,f,""!==s?s+"."+t:t)}return a},deleteProperty:function(e,o){var a=!0;t===b&&(a=!1,t=null);var i=Object.assign({},e),l=v(e,o);if(p.push({type:"delete",target:e,property:o,newValue:null,previousValue:i[o],currentPath:l,proxy:b}),!0===a){var u=r.indexOf(e);if(u>-1)for(var f=n[u].length;f--;)n[u][f].proxy!==b&&(t=n[u][f].proxy,delete n[u][f].proxy[o]);delete e[o]}return c(p.length),!0},set:function(e,o,a,i){var l=!0;t===b&&(l=!1,t=null);var u=e[o];if(u!==a||!1===l){var s=typeof u,h=v(e,o),y="update";if("undefined"===s&&(y="add"),p.push({type:y,target:e,property:o,newValue:a,previousValue:i[o],currentPath:h,proxy:b}),!0===l){var x=r.indexOf(e);if(x>-1)for(var g=n[x],d=g.length;d--;)g[d].proxy!==b&&(t=g[d].proxy,g[d].proxy[o]=a);setTimeout(function(){s instanceof Object&&function e(t){for(var o in t){var a=t[o];a instanceof Object&&null!==a&&e(a)}var i=r.indexOf(t);if(i>-1){for(var l=n[i],u=l.length;u--;)if(f===l[u].observable){l.splice(u,1);break}0==l.length&&(n.splice(i,1),r.splice(i,1))}}(u)},1e4),e[o]=a}c(p.length)}return!0}});null===f&&(f={target:a,domDelay:i,proxy:b,observers:[],paused:!1,path:s},e.push(f));var h={target:a,proxy:b,observable:f},y=r.indexOf(a);return y>-1?n[y].push(h):(r.push(a),n.push([h])),b};return{create:function(e,r,n){if(!0===e.__isProxy)throw new Error("ObservableSlim.create() cannot create a Proxy for a target object that is also a Proxy.");var t=o(e,r);return"function"==typeof n&&this.observe(t,n),t},observe:function(r,n){for(var t=e.length;t--;)if(e[t].proxy===r){e[t].observers.push(n);break}},pause:function(r){for(var n=e.length,t=!1;n--;)if(e[n].proxy===r){e[n].paused=!0,t=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(r){for(var n=e.length,t=!1;n--;)if(e[n].proxy===r){e[n].paused=!1,t=!0;break}if(0==t)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},remove:function(t){for(var o=null,a=!1,i=e.length;i--;)if(e[i].proxy===t){o=e[i],a=!0;break}for(var l=n.length;l--;)for(var u=n[l].length;u--;)n[l][u].observable===o&&(n[l].splice(u,1),0==n[l].length&&(n.splice(l,1),r.splice(l,1)));!0===a&&e.splice(i,1)}}}();