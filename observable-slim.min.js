var ObservableSlim=function(){var s=[],d=[],_=[],P=null,f=function(e,i,r,t){var g=r||null,u=t||"",h=[],b=function(e,r){return e instanceof Array?""!==u?u:r:""!==u?u+"."+r:r},y=function(r){if(!0!==g.paused)if(!0===i)setTimeout(function(){if(r===h.length){for(var e=0;e<g.observers.length;e++)g.observers[e](h);h=[]}},10);else{for(var e=0;e<g.observers.length;e++)g.observers[e](h);h=[]}},x=new Proxy(e,{get:function(n,e){if("__getTarget"===e)return n;if("__isProxy"===e)return!0;if("__getParent"===e)return function(e){if(void 0===e)e=1;var r,t=b(n,"__getParent").split(".");return t.splice(-(e+1),e+1),r=g.parentProxy,t.join(".").split(".").reduce(function(e,r){return e?e[r]:void 0},r||self)};var r=n[e];if(!(r instanceof Object&&null!==r&&n.hasOwnProperty(e)))return r;!0===r.__isProxy&&(r=r.__getTarget);for(var t=-1,o=g.targets,a=0,l=o.length;a<l;a++)if(r===o[a]){t=a;break}return-1<t?g.proxies[t]:f(r,i,g,""!==u?u+"."+e:e)},deleteProperty:function(e,r){var t=!0;P===x&&(t=!1,P=null);var n=Object.assign({},e),o=b(e,r);if(h.push({type:"delete",target:e,property:r,newValue:null,previousValue:n[r],currentPath:o,proxy:x}),!0===t){for(var a=0,l=d.length;a<l&&e!==d[a];a++);for(var i=_[a],u=i.length;u--;)i[u].proxy!==x&&(P=i[u].proxy,delete i[u].proxy[r]);delete e[r]}return y(h.length),!0},set:function(n,e,r,t){var o=!0;P===x&&(o=!1,P=null);var a=n[e];if(a!==r||!1===o){var l=!0,i=typeof a,u=b(n,e),s="update";if("undefined"===i&&(s="add"),h.push({type:s,target:n,property:e,newValue:r,previousValue:t[e],currentPath:u,proxy:x}),!0===o){for(var f=0,p=d.length;f<p&&n!==d[f];f++);if(l=f<p){var v=_[f],c=0;for(p=v.length;c<p;c++)v[c].proxy!==x&&(P=v[c].proxy,v[c].proxy[e]=r);setTimeout(function(){if("object"===i&&null!==a){for(var e=Object.keys(n),r=0,t=e.length;r<t;r++)if(n[e[r]]===a)return;!function e(r){for(var t=Object.keys(r),n=0,o=t.length;n<o;n++){var a=r[t[n]];a instanceof Object&&null!==a&&e(a)}var l=-1;for(n=0,o=d.length;n<o;n++)if(r===d[n]){l=n;break}if(-1<l){for(var i=_[l],u=i.length;u--;)if(g===i[u].observable){i.splice(u,1);break}0==i.length&&(_.splice(l,1),d.splice(l,1))}}(a)}},1e4)}n[e]=r}l&&y(h.length)}return!0}});null===g?(g={parentTarget:e,domDelay:i,parentProxy:x,observers:[],targets:[e],proxies:[x],paused:!1,path:u},s.push(g)):(g.targets.push(e),g.proxies.push(x));for(var n={target:e,proxy:x,observable:g},o=-1,a=0,l=d.length;a<l;a++)if(e===d[a]){o=a;break}return-1<o?_[o].push(n):(d.push(e),_.push([n]),o=d.length-1),x};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var n=f(e,r);return"function"==typeof t&&this.observe(n,t),function e(r){for(var t=r.__getTarget,n=Object.keys(t),o=0,a=n.length;o<a;o++){var l=n[o];t[l]instanceof Object&&null!==t[l]&&e(r[l])}}(n),n},observe:function(e,r){for(var t=s.length;t--;)if(s[t].parentProxy===e){s[t].observers.push(r);break}},pause:function(e){for(var r=s.length,t=!1;r--;)if(s[r].parentProxy===e){t=s[r].paused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var r=s.length,t=!1;r--;)if(s[r].parentProxy===e){t=!(s[r].paused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},remove:function(e){for(var r=null,t=!1,n=s.length;n--;)if(s[n].parentProxy===e){r=s[n],t=!0;break}for(var o=_.length;o--;)for(var a=_[o].length;a--;)_[o][a].observable===r&&(_[o].splice(a,1),0===_[o].length&&(_.splice(o,1),d.splice(o,1)));!0===t&&s.splice(n,1)}}}();try{module.exports=ObservableSlim}catch(e){}