var ObservableSlim=function(){paths=[];var i=[],d=[],x=[],P=null,f=function(e,l,r,t){var c=r||null,u=t||[{target:e,property:""}];paths.push(u);var v=[],h=function(e,r,t){for(var n="",o=null,a=0;a<u.length;a++)o instanceof Array&&!isNaN(u[a].property)&&(u[a].property=o.indexOf(u[a].target)),n=n+"."+u[a].property,o=u[a].target;return n=(n=n+"."+r).substring(2),!0===t&&(n="/"+n.replace(/\./g,"/")),n},b=function(t){if(!0!==c.paused)if(!0===l)setTimeout(function(){if(t===v.length){var e=v.slice(0);v=[];for(var r=0;r<c.observers.length;r++)c.observers[r](e)}},10);else{var e=v.slice(0);v=[];for(var r=0;r<c.observers.length;r++)c.observers[r](e)}},y=new Proxy(e,{get:function(e,r){if("__getTarget"===r)return e;if("__isProxy"===r)return!0;if("__getParent"===r)return function(e){if(void 0===e)e=1;var r,t=h(0,"__getParent").split(".");return t.splice(-(e+1),e+1),r=c.parentProxy,t.join(".").split(".").reduce(function(e,r){return e?e[r]:void 0},r||self)};var t=e[r];if(t instanceof Object&&null!==t&&e.hasOwnProperty(r)){!0===t.__isProxy&&(t=t.__getTarget);for(var n=-1,o=c.targets,a=0,s=o.length;a<s;a++)if(t===o[a]){n=a;break}if(-1<n)return c.proxies[n];var i=u.slice(0);return i.push({target:t,property:r}),f(t,l,c,i)}return t},deleteProperty:function(e,r){var t=!0;P===y&&(t=!1,P=null);var n=Object.assign({},e);if(v.push({type:"delete",target:e,property:r,newValue:null,previousValue:n[r],currentPath:h(0,r),jsonPointer:h(0,r,!0),proxy:y}),!0===t){for(var o=0,a=d.length;o<a&&e!==d[o];o++);for(var s=x[o],i=s.length;i--;)s[i].proxy!==y&&(P=s[i].proxy,delete s[i].proxy[r]);c.changesPaused||delete e[r]}return b(v.length),!0},set:function(n,e,r,t){r.__isProxy&&(r=r.__getTarget);var o=!0;P===y&&(o=!1,P=null);var a=n[e];if(a!==r||!1===o){var s=!0,i=typeof a,l="update";if("undefined"===i&&(l="add"),v.push({type:l,target:n,property:e,newValue:r,previousValue:t[e],currentPath:h(0,e),jsonPointer:h(0,e,!0),proxy:y}),!0===o){for(var u=0,f=d.length;u<f&&n!==d[u];u++);if(s=u<f){var p=x[u],g=0;for(f=p.length;g<f;g++)p[g].proxy!==y&&(P=p[g].proxy,p[g].proxy[e]=r);setTimeout(function(){if("object"===i&&null!==a){for(var e=Object.keys(n),r=0,t=e.length;r<t;r++)if(n[e[r]]===a)return;!function e(r){for(var t=Object.keys(r),n=0,o=t.length;n<o;n++){var a=r[t[n]];a instanceof Object&&null!==a&&e(a)}var s=-1;for(n=0,o=d.length;n<o;n++)if(r===d[n]){s=n;break}if(-1<s){for(var i=x[s],l=i.length;l--;)if(c===i[l].observable){i.splice(l,1);break}0==i.length&&(x.splice(s,1),d.splice(s,1))}}(a)}},1e4)}c.changesPaused||(n[e]=r)}s&&b(v.length)}return!0}});null===c?(c={parentTarget:e,domDelay:l,parentProxy:y,observers:[],targets:[e],proxies:[y],paused:!1,path:u,changesPaused:!1},i.push(c)):(c.targets.push(e),c.proxies.push(y));for(var n={target:e,proxy:y,observable:c},o=-1,a=0,s=d.length;a<s;a++)if(e===d[a]){o=a;break}return-1<o?x[o].push(n):(d.push(e),x.push([n]),o=d.length-1),y};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var n=f(e,r);return"function"==typeof t&&this.observe(n,t),function e(r){for(var t=r.__getTarget,n=Object.keys(t),o=0,a=n.length;o<a;o++){var s=n[o];t[s]instanceof Object&&null!==t[s]&&e(r[s])}}(n),n},observe:function(e,r){for(var t=i.length;t--;)if(i[t].parentProxy===e){i[t].observers.push(r);break}},pause:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=i[r].paused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=!(i[r].paused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=i[r].changesPaused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=!(i[r].changesPaused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var r=null,t=!1,n=i.length;n--;)if(i[n].parentProxy===e){r=i[n],t=!0;break}for(var o=x.length;o--;)for(var a=x[o].length;a--;)x[o][a].observable===r&&(x[o].splice(a,1),0===x[o].length&&(x.splice(o,1),d.splice(o,1)));!0===t&&i.splice(n,1)}}}();try{module.exports=ObservableSlim}catch(e){}