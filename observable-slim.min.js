var ObservableSlim=function(){var i=[],y=[],x=[],d=null,u=function(e,l,r,t){var p=r||null,s=t||"",v=[],c=function(e,r){return e instanceof Array?""!==s?s:r:""!==s?s+"."+r:r},g=function(r){if(!0!==p.paused)if(!0===l)setTimeout(function(){if(r===v.length){for(var e=0;e<p.observers.length;e++)p.observers[e](v);v=[]}},10);else{for(var e=0;e<p.observers.length;e++)p.observers[e](v);v=[]}},b=new Proxy(e,{get:function(n,e){if("__getTarget"===e)return n;if("__isProxy"===e)return!0;if("__getParent"===e)return function(e){if(void 0===e)e=1;var r,t=c(n,"__getParent").split(".");return t.splice(-(e+1),e+1),r=p.parentProxy,t.join(".").split(".").reduce(function(e,r){return e?e[r]:void 0},r||self)};var r=n[e];if(!(r instanceof Object&&null!==r&&n.hasOwnProperty(e)))return r;!0===r.__isProxy&&(r=r.__getTarget);for(var t=-1,o=p.targets,a=0,i=o.length;a<i;a++)if(r===o[a]){t=a;break}return-1<t?p.proxies[t]:u(r,l,p,""!==s?s+"."+e:e)},deleteProperty:function(e,r){var t=!0;d===b&&(t=!1,d=null);var n=Object.assign({},e),o=c(e,r);if(v.push({type:"delete",target:e,property:r,newValue:null,previousValue:n[r],currentPath:o,proxy:b}),!0===t){for(var a=x[h],i=a.length;i--;)a[i].proxy!==b&&(d=a[i].proxy,delete a[i].proxy[r]);delete e[r]}return g(v.length),!0},set:function(e,r,t,n){var o=!0;d===b&&(o=!1,d=null);var a=e[r];if(a!==t||!1===o){var i=typeof a,l=c(e,r),s="update";if("undefined"===i&&(s="add"),v.push({type:s,target:e,property:r,newValue:t,previousValue:n[r],currentPath:l,proxy:b}),!0===o){for(var u=x[h],f=u.length;f--;)u[f].proxy!==b&&(d=u[f].proxy,u[f].proxy[r]=t);setTimeout(function(){"object"==typeof i&&function e(r){for(var t=0,n=Object.keys(r).length;t<n;t++){var o=r[key[t]];o instanceof Object&&null!==o&&e(o)}var a=y.indexOf(r);if(-1<a){for(var i=x[a],l=i.length;l--;)if(p===i[l].observable){i.splice(l,1);break}0==i.length&&(x.splice(a,1),y.splice(a,1))}}(a)},1e4),e[r]=t}g(v.length)}return!0}});null===p?(p={parentTarget:e,domDelay:l,parentProxy:b,observers:[],targets:[e],proxies:[b],paused:!1,path:s},i.push(p)):(p.targets.push(e),p.proxies.push(b));for(var n={target:e,proxy:b,observable:p},h=-1,o=0,a=y.length;o<a;o++)if(e===y[o]){h=o;break}return-1<h?x[h].push(n):(y.push(e),x.push([n]),h=y.length-1),b};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var n=u(e,r);return"function"==typeof t&&this.observe(n,t),function e(r){for(var t=r.__getTarget,n=Object.keys(t),o=0,a=n.length;o<a;o++){var i=n[o];t[i]instanceof Object&&null!==t[i]&&e(r[i])}}(n),n},observe:function(e,r){for(var t=i.length;t--;)if(i[t].parentProxy===e){i[t].observers.push(r);break}},pause:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=i[r].paused=!0;break}if(0==t)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var r=i.length,t=!1;r--;)if(i[r].parentProxy===e){t=!(i[r].paused=!1);break}if(0==t)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},remove:function(e){for(var r=null,t=!1,n=i.length;n--;)if(i[n].parentProxy===e){r=i[n],t=!0;break}for(var o=x.length;o--;)for(var a=x[o].length;a--;)x[o][a].observable===r&&(x[o].splice(a,1),0==x[o].length&&(x.splice(o,1),y.splice(o,1)));!0===t&&i.splice(n,1)}}}();try{module.exports=ObservableSlim}catch(e){}